#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#: import Factory kivy.factory.Factory
#: import sys sys
#: import MapSource mapview.MapSource

#####################################	
# HOME PAGE
#####################################
<MainScreen>:
	canvas:
        Rectangle:
            source: 'tlo.jpg'
            pos: self.pos
            size: self.size
	name:"main"
	color: 0.596,0.9843,0.596,1
	BoxLayout:
		id: box
		size: root.size
##################### Początek buttonow nawigacyjnych ####################
		FloatLayout:
		    Button:
		        on_release: app.root.current= "main"

		        background_normal: ''
                background_color:root.color
                size_hint: .334, .08
				pos_hint: {"left": 1, "bottom": 0}
				Image:
                    source: 'icons/home.png'
                    center: self.parent.center
                    size: 30,30
                    allow_stretch: True
			Button:
		        on_release: app.root.current= "mapa"

		        background_normal: ''
                background_color:root.color
                size_hint: .334, .08
				pos_hint: {"center_x": .5, "bottom": 0}
				Image:
                    source: 'icons/map_icon.png'
                    center: self.parent.center
                    size: 30,30
                    allow_stretch: True
			Button:
		        on_release: app.root.current= "lista"

		        background_normal: ''
                background_color:root.color
                size_hint: .334, .08
				pos_hint: {"right": 1, "bottom": 0}
				Image:
                    source: 'icons/list.png'
                    center: self.parent.center
                    size: 30,30
                    allow_stretch: True
##################### Koniec buttonow nawigacyjnych ####################
	BoxLayout:

	    Button:
			text: "TWOJ SENSOR WS 2,5-10 Z SENSORA"
			background_color: 0,0,0,1
			size_hint:0.1,0.3
			pos_hint:{"left":1,"top":1}
			on_release: app.root.current= "main"
	BoxLayout:

	    Button:
			text: "Wykres/Hisotia poziomu zanieczyszczen w skali czasu"
			background_color: 0,0,0,1
			size_hint:0.1,0.3
			pos_hint:{"left":1,"top":0.70}
			on_release: app.root.current= "main"
	BoxLayout:

	    Button:
			text: "Year"
			color:0,0,0,1
			background_normal: ''
			background_color:root.color
			size_hint:0.34,0.06
			pos_hint:{"left":1,"top":0.403}
			on_release: app.root.current= "main"
		Button:
			text: "3 Month"
			color:0,0,0,1
			background_normal: ''
			background_color:root.color
			size_hint:0.34,0.06
			pos_hint:{"left":1,"top":0.403}
			on_release: app.root.current= "main"
		Button:
			text: "Month"
			color:0,0,0,1
			background_normal: ''
			background_color:root.color
			size_hint:0.34,0.06
			pos_hint:{"left":0.9,"top":0.403}
			on_release: app.root.current= "main"
		Button:
			text: "Week"
			color:0,0,0,1
			background_normal: ''
			background_color:root.color
			size_hint:0.34,0.06
			pos_hint:{"left":1,"top":0.403}
			on_release: app.root.current= "main"
		Button:
			text: "Today"
			color:0,0,0,1
			background_normal: ''
			background_color:root.color
			size_hint:0.34,0.06
			pos_hint:{"left":1,"top":0.403}
			on_release: app.root.current= "main"
#####################################
# MAP PAGE
#####################################
<Mapa>:
	name: "mapa"
	color: 0.596,0.9843,0.596,1
	canvas:
        Rectangle:
            pos: self.pos
            size: self.size
	FloatLayout:
##################### Początek buttonow nawigacyjnych ####################
		FloatLayout:
		    Button:
		        on_release: app.root.current= "main"

		        background_normal: ''
                background_color:root.color
                size_hint: .334, .08
				pos_hint: {"left": 1, "bottom": 0}
				Image:
                    source: 'icons/home.png'
                    center: self.parent.center
                    size: 30,30
                    allow_stretch: True
			Button:
		        on_release: app.root.current= "mapa"

		        background_normal: ''
                background_color:root.color
                size_hint: .334, .08
				pos_hint: {"center_x": .5, "bottom": 0}
				Image:
                    source: 'icons/map_icon.png'
                    center: self.parent.center
                    size: 30,30
                    allow_stretch: True
			Button:
		        on_release: app.root.current= "lista"

		        background_normal: ''
                background_color:root.color
                size_hint: .334, .08
				pos_hint: {"right": 1, "bottom": 0}
				Image:
                    source: 'icons/list.png'
                    center: self.parent.center
                    size: 30,30
                    allow_stretch: True
##################### Koniec buttonow nawigacyjnych ####################
        MapView:
            size_hint:1,.92
            pos_hint:{"top":1,"left":1}
            lat: 50.6394
            lon: 3.057
            zoom: 13
            map_source: MapSource(sys.argv[1], attribution="") if len(sys.argv) > 1 else "osm"
            MapMarkerPopup:
                lat: 50.6394
                lon: 3.057
#####################################
# LIST PAGE
#####################################
<Lista>
    rv: rv # expose the widget
    name: "lista"
    color: 0.596,0.9843,0.596,1

    RecycleView: # Tutaj zdefiniowany jest widok listy
        id: rv
        viewclass: 'Button'
        RecycleBoxLayout:
            default_size: None, dp(46)
            size_hint:1,0.06
            default_size_hint: 1, None
            size_hint_y: None
            height: self.minimum_height
            orientation: 'vertical'

##################### Początek buttonow nawigacyjnych ####################
    FloatLayout:
	    Button:
	        on_release: app.root.current= "main"

	        background_normal: ''
            background_color:root.color
            size_hint: .334, .08
    		pos_hint: {"left": 1, "bottom": 0}
			Image:
                source: 'icons/home.png'
                center: self.parent.center
                size: 30,30
                allow_stretch: True
		Button:
	        on_release: app.root.current= "mapa"

	        background_normal: ''
            background_color:root.color
            size_hint: .334, .08
	    	pos_hint: {"center_x": .5, "bottom": 0}
			Image:
                source: 'icons/map_icon.png'
                center: self.parent.center
                size: 30,30
                allow_stretch: True
		Button:
		    on_release: app.root.current= "lista"

		    background_normal: ''
            background_color:root.color
            size_hint: .334, .08
		    pos_hint: {"right": 1, "bottom": 0}
			Image:
                source: 'icons/list.png'
                center: self.parent.center
                size: 30,30
                allow_stretch: True
##################### Koniec buttonow nawigacyjnych ####################